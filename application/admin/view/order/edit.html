{extend name="template/base" /}
{block name="content"}
<div class="page-container">
    <form class="form form-horizontal" id="form" method="post" action="{:\\think\\Request::instance()->baseUrl()}">
        <input type="hidden" name="id" value="{$vo.id ?? ''}">
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">订单号：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="订单号" readonly name="orderNo"
                       value="{$vo.orderNo ?? ''}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">用户：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="用户" readonly name="userId"
                       value="{:getName($vo.userId,'user','realname')}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">购买总数量：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="购买总数量" readonly name="totalNum"
                       value="{$vo.totalNum ?? ''}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">购买总金额：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="购买总金额" readonly name="totalMoney"
                       value="{$vo.totalMoney ?? ''}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">创建时间：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="创建时间" readonly name="createTime"
                       value="{$vo.createTime ?? ''}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">支付状态：</label>
            <div class="formControls col-xs-6 col-sm-6">
                {:authPay($vo['payType'])}
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">订单状态：</label>
            <div class="formControls col-xs-6 col-sm-6">
                {:authOrder($vo.payType,$vo.orderType)}
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">用户备注：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="用户备注" readonly name="remarks"
                       value="{$vo.remarks ?? '未填写'}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">商品：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <table border="1" style="text-align: center">
                    <thead>
                    <tr>
                        <th style="text-align: center">封面图</th>
                        <th style="text-align: center">商品名</th>
                        <th style="text-align: center">单价</th>
                        <th style="text-align: center">数量</th>
                        <th style="text-align: center">总价</th>
                    </tr>
                    </thead>
                    <tbody>
                    {volist name="list" id="r"}
                    <tr>
                        <td><img src="{$r.thumb}" alt="" style="width: 100px;height: 100px;"></td>
                        <td>{$r.name}</td>
                        <td>{$r.int}</td>
                        <td>{$r.num}</td>
                        <td>{$r.price}</td>
                    </tr>
                    {/volist}
                    </tbody>
                </table>
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">收件人：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="收件人" readonly name="addrman"
                       value="{$vo.addrman ?? '未填写'}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">收货地址：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="收货地址" readonly name="addr"
                       value="{$vo.addr ?? '未填写'}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>

        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">快递公司：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="快递公司" name="kdmsg" value="{$vo.kdmsg ?? ''}"
                       datatype="*" nullmsg="请填写快递公司">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">快递单号：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="快递单号" name="kdNo" value="{$vo.kdNo ?? ''}"
                       datatype="*" nullmsg="请填写快递单号">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">发货时间：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="发货时间" readonly name="kdTime"
                       value="{$vo.kdTime ?? ''}">
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl" {if isset($vo)}{if $vo.payType == 1 && $vo.orderType == 0}show{else}hidden{/if}{/if}>
            <div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
                <button type="submit" class="btn btn-primary radius">&nbsp;&nbsp;发货&nbsp;&nbsp;</button>
                <button type="button" class="btn btn-default radius ml-20" onClick="layer_close();">&nbsp;&nbsp;取消&nbsp;&nbsp;</button>
            </div>
        </div>
    </form>
</div>
{/block}
{block name="script"}
<script type="text/javascript" src="__LIB__/Validform/5.3.2/Validform.min.js"></script>
<script>
    $(function () {


        $('.skin-minimal input').iCheck({
            checkboxClass: 'icheckbox-blue',
            radioClass: 'iradio-blue',
            increaseArea: '20%'
        });

        $("#form").Validform({
            tiptype: 2,
            ajaxPost: true,
            showAllError: true,
            callback: function (ret) {
                ajax_progress(ret);
            }
        });
    })
</script>
{/block}
